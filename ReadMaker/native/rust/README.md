# ReadMaker - Rustè£½å½¢æ…‹ç´ è§£æã‚¨ãƒ³ã‚¸ãƒ³

**ReadMakerã‚¢ãƒ—ãƒªå‘ã‘ã«é–‹ç™ºã•ã‚ŒãŸã€Rustè£½ã®é«˜æ€§èƒ½ãªæ—¥æœ¬èªå½¢æ…‹ç´ è§£æã‚¨ãƒ³ã‚¸ãƒ³ã§ã™ã€‚**

Vibratoãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨IPADICè¾æ›¸ã‚’åŸºç›¤ã¨ã—ã€é«˜é€Ÿã‹ã¤é«˜ç²¾åº¦ãªæ—¥æœ¬èªã®å˜èªåˆ†å‰²æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚React Nativeã‚¢ãƒ—ãƒªã«ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦çµ±åˆã•ã‚Œã€ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã‚‚è»½å¿«ã«å‹•ä½œã—ã¾ã™ã€‚

---

## âœ¨ ä¸»ãªç‰¹å¾´

- **ğŸš€ é«˜é€Ÿãƒ»é«˜ç²¾åº¦**: Rustã¨Vibratoã«ã‚ˆã‚‹å„ªã‚ŒãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€‚
- **ğŸ“š æ¨™æº–è¾æ›¸æ­è¼‰**: ä¸€èˆ¬çš„ãªå˜èªã«å¯¾å¿œã™ã‚‹IPADICè¾æ›¸ã‚’åŒæ¢±ã€‚
- **ğŸ“± ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **: Androidã«å®Œå…¨å¯¾å¿œã€‚iOSã‚‚macOSç’°å¢ƒã§ãƒ“ãƒ«ãƒ‰å¯èƒ½ã§ã™ã€‚
- **ğŸ”Œ ç°¡å˜ãªé€£æº**: TypeScriptã‹ã‚‰éåŒæœŸé–¢æ•°ã‚’å‘¼ã³å‡ºã™ã ã‘ã§åˆ©ç”¨ã§ãã¾ã™ã€‚
- **ğŸŒ ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å‹•ä½œ**: è¾æ›¸ã‚’å†…è”µã—ã¦ã„ã‚‹ãŸã‚ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šã¯ä¸è¦ã§ã™ã€‚

---

## ğŸ“Š å¯¾å¿œçŠ¶æ³

| ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | å¯¾å¿œã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ |
| :--- | :--- | :--- |
| âœ… **Android** | **çµ±åˆå®Œäº†** | `arm64-v8a`, `armeabi-v7a`, `x86_64` |
| â³ **iOS** | **ãƒ“ãƒ«ãƒ‰å¾…ã¡** | `aarch64` (å®Ÿæ©Ÿ), `x86_64` (ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿) |

---

## ä½¿ã„æ–¹

React Nativeå´ã‹ã‚‰`analyzeText`é–¢æ•°ã‚’å‘¼ã³å‡ºã™ã ã‘ã§ã€é«˜ç²¾åº¦ãªå½¢æ…‹ç´ è§£æçµæœãŒJSONé…åˆ—ã§è¿”ã•ã‚Œã¾ã™ã€‚

```typescript
import { analyzeText } from '../native/bridge/RustBridge';

async function getWords(text: string) {
  try {
    const words = await analyzeText(text);
    console.log(`å…¥åŠ›: "${text}"`);
    console.log('è§£æçµæœ:', words);
    // -> è§£æçµæœ: ["ä»Šæ—¥", "ã¯", "è‰¯ã„", "å¤©æ°—", "ã§ã™", "ã€‚"]
    return words;
  } catch (e) {
    console.error("è§£æã‚¨ãƒ©ãƒ¼", e);
    return [];
  }
}

getWords("ä»Šæ—¥ã¯è‰¯ã„å¤©æ°—ã§ã™ã€‚");
```

---

## é–‹ç™ºè€…å‘ã‘æƒ…å ±

### å¿…è¦ãªç’°å¢ƒ
- **å…±é€š**: Rust
- **Android**: Android NDK
- **iOS**: macOS & Xcode

### ãƒ†ã‚¹ãƒˆ
Rustãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

```bash
cd native/rust
cargo test
```

### ãƒ“ãƒ«ãƒ‰æ‰‹é †
å„ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å‘ã‘ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚

#### Android
```bash
# Windows/macOS/Linuxã§ãƒ“ãƒ«ãƒ‰å¯èƒ½
cd native/rust
cargo build --target aarch64-linux-android --release
cargo build --target armv7-linux-androideabi --release
cargo build --target x86_64-linux-android --release
```
ãƒ“ãƒ«ãƒ‰ã•ã‚ŒãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒª (`.so`) ã¯è‡ªå‹•çš„ã« `android/app/src/main/jniLibs` é…ä¸‹ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã™ã€‚

#### iOS
```bash
# macOS + Xcode ç’°å¢ƒãŒå¿…é ˆ
cd native/rust
cargo build --target aarch64-apple-ios --release
cargo build --target x86_64-apple-ios --release
```
ãƒ“ãƒ«ãƒ‰ã•ã‚ŒãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒª (`.a`) ã¯æ‰‹å‹•ã§Xcodeãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é…ç½®ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

---

## ğŸ›ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

`React Native (TypeScript)` â†” `Native Bridge (Java/Kotlin, Obj-C/Swift)` â†” `Rust Core (FFI)`

- **Rust Core**: å½¢æ…‹ç´ è§£æã®ã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯ã€‚Cè¨€èªäº’æ›ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹(FFI)ã‚’å…¬é–‹ã€‚
- **Native Bridge**: ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å›ºæœ‰ã®ã‚³ãƒ¼ãƒ‰ï¼ˆJava/Obj-Cï¼‰ã§Rustã®é–¢æ•°ã‚’å‘¼ã³å‡ºã—ã€React Nativeã«å…¬é–‹ã€‚
- **React Native**: TypeScriptã‹ã‚‰ãƒ–ãƒªãƒƒã‚¸ã•ã‚ŒãŸé–¢æ•°ã‚’éåŒæœŸã§å‘¼ã³å‡ºã—ã€‚

